<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.15">
<meta name="description" content="Installing IdentityRM in Microsoft Azure environment.">
<meta name="keywords" content="IdentityRM, Microsoft Azure">
<meta name="author" content="Installation Guide">
<title>Installing IdentityRM in Microsoft Azure</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:50%;border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Installing IdentityRM in Microsoft Azure</h1>
<div class="details">
<span id="author" class="author">Installation Guide</span><br>
<span id="email" class="email"><a href="mailto:support@icsynergy.com">support@icsynergy.com</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Content</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a></li>
<li><a href="#_system_requirements">2. System Requirements</a></li>
<li><a href="#_preparation_for_installation">3. Preparation for Installation</a>
<ul class="sectlevel2">
<li><a href="#_setting_up_azure_load_balancer">3.1. Setting up Azure Load Balancer</a>
<ul class="sectlevel3">
<li><a href="#_prerequisites">3.1.1. Prerequisites</a></li>
<li><a href="#_set_up_azure_load_balancer">3.1.2. Set up Azure Load Balancer</a></li>
</ul>
</li>
<li><a href="#_setting_up_azure_vms">3.2. Setting up Azure VMs</a>
<ul class="sectlevel3">
<li><a href="#_prerequisites_2">3.2.1. Prerequisites</a></li>
<li><a href="#_set_up_azure_vm">3.2.2. Set up Azure VM</a></li>
<li><a href="#_connect_to_the_azure_vm_instance">3.2.3. Connect to the Azure VM Instance</a>
<ul class="sectlevel4">
<li><a href="#_before_you_connect">Before you connect</a></li>
<li><a href="#_connect_your_virtual_machine">Connect your Virtual Machine</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_setting_up_postgresql_database">3.3. Setting up PostgreSQL Database</a>
<ul class="sectlevel3">
<li><a href="#_set_up_the_azure_postgressql_server">3.3.1. Set up the Azure PostgresSQL Server</a></li>
<li><a href="#_configure_identityrm_to_use_the_azure_postgressql_server">3.3.2. Configure IdentityRM to use the Azure PostgresSQL Server</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_installing_identityrm">4. Installing IdentityRM</a>
<ul class="sectlevel2">
<li><a href="#_install_docker">4.1. Install Docker</a></li>
<li><a href="#_install_identityrm">4.2. Install IdentityRM</a></li>
</ul>
</li>
<li><a href="#_configuring_access_to_identityrm">5. Configuring Access to IdentityRM</a>
<ul class="sectlevel2">
<li><a href="#_set_up_local_environment">5.1. Set up local environment</a></li>
<li><a href="#_access_identityrm">5.2. Access IdentityRM</a></li>
<li><a href="#_key_configuration_and_log_file_locations">5.3. Key Configuration and Log file locations</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>IdentityRM is a platform that facilitates digital business transformation. IdentityRM provides an evolved thought process where identities belong to relationships, and relationships become the fundamental managed entity.</p>
</div>
<div class="paragraph">
<p>Relationships allow you to provide business context and macro layer for managing identity within digital business models.</p>
</div>
<div class="paragraph">
<p>This guide describes how to install IdentityRM in Microsoft Azure.</p>
</div>
<div class="paragraph">
<p><strong>Version tested:</strong> IdentityRM_1.1-4161</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_system_requirements">2. System Requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Recommended configurations and sizing:<br></p>
</div>
<div class="ulist">
<div class="title">DEV/TEST</div>
<ul>
<li>
<p>2 Ubuntu 20.0.02 D2 as v4 instances with 30 GB of storage.</p>
</li>
<li>
<p>Azure Database for PostgreSQL General Purpose 2 vCore 10 GiB.</p>
</li>
<li>
<p>Load Balancer for HTTPS between the two Azure VM instances. Set for sticky sessions.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">PROD</div>
<ul>
<li>
<p>2 Ubuntu 20.0.02 D2 as v4 instances with 30 GB of storage</p>
</li>
<li>
<p>Azure Database for PostgreSQL Memory Optimized 2 vCore 10 GiB</p>
</li>
<li>
<p>Load Balancer for HTTPS between the two Azure VMs.  Set for sticky sessions.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preparation_for_installation">3. Preparation for Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before installing IdentityRM, you need to complete the prerequisites to set up the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Azure Load Balancer</p>
</li>
<li>
<p>Azure VMs</p>
</li>
<li>
<p>PostgreSQL database</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_setting_up_azure_load_balancer">3.1. Setting up Azure Load Balancer</h3>
<div class="paragraph">
<p>Before installation, you need to have a public Azure Load Balancer ready to load balance your virtual machine.</p>
</div>
<div class="paragraph">
<p>For more information about the configurations, see the <a href="https://docs.microsoft.com/en-us/azure/load-balancer/quickstart-load-balancer-standard-public-portal?tabs=option-1-create-load-balancer-standard" target="_blank" rel="noopener">Microsoft documentation</a>.</p>
</div>
<div class="sect3">
<h4 id="_prerequisites">3.1.1. Prerequisites</h4>
<div class="ulist">
<ul>
<li>
<p>Microsoft Azure Portal account</p>
</li>
<li>
<p>Microsoft Azure Portal subscription that includes the Azure Load Balancer feature.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_set_up_azure_load_balancer">3.1.2. Set up Azure Load Balancer</h4>
<div class="paragraph">
<p>The load balancer is attached to the VMs. For information about creating the VM, refer to <a href="#Configuring Azure VMs">[Configuring Azure VMs]</a>.</p>
</div>
<div class="paragraph">
<p>To configure,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log into <a href="https://portal.azure.com/#home">Azure portal</a>.</p>
</li>
<li>
<p>In the <strong>Search</strong> box, type Load Balancer service and select <strong>load balancer</strong> from the displayed results.</p>
</li>
<li>
<p>On the Load Balancer page, click <strong>New</strong>.</p>
</li>
<li>
<p>On the <strong>Create Load Balancer</strong> page, enter the details about load balancer.</p>
<div class="imageblock">
<div class="content">
<img src="img/config_az_lb_3.png" alt="Enter Information">
</div>
</div>
</li>
<li>
<p>Review the summary and click <strong>Create</strong> to deploy load balancer.</p>
<div class="imageblock">
<div class="content">
<img src="img/config_az_lb_4.png" alt="config az lb 4">
</div>
</div>
<div class="paragraph">
<p>A confirmation screen displays successful deployment.</p>
</div>
</li>
<li>
<p>Click <strong>Go to resource</strong> to show the configuration of load balancer.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
    Make note of the Public IP address to use later when configuring DNS.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="img/config_az_lb_5.png" alt="config az lb 5">
</div>
</div>
</li>
<li>
<p>Click the <strong>Backend Pools</strong> tab and select <strong>New</strong> to create a backend server pool.</p>
<div class="imageblock">
<div class="content">
<img src="img/config_az_lb_6.png" alt="config az lb 6">
</div>
</div>
</li>
<li>
<p>Enter details about the backend server pool.</p>
<div class="imageblock">
<div class="content">
<img src="img/config_az_lb_7.png" alt="config az lb 7">
</div>
</div>
</li>
<li>
<p>Click the <strong>Load Balancing Rules</strong> tab and select <strong>Add</strong> to create a load balancer rule.</p>
<div class="imageblock">
<div class="content">
<img src="img/config_az_lb_8.png" alt="config az lb 8">
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The load balancer is ready to use. The backend pools are connected to the Azure VMs.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_setting_up_azure_vms">3.2. Setting up Azure VMs</h3>
<div class="paragraph">
<p>You can deploy the IdentityRM solution on two or more of Azure VM instances.
For more information, see <a href="https://docs.microsoft.com/en-us/azure/load-balancer/quickstart-load-balancer-standard-public-portal?tabs=option-1-create-load-balancer-standard">Microsoft Documentation</a>.</p>
</div>
<div class="sect3">
<h4 id="_prerequisites_2">3.2.1. Prerequisites</h4>
<div class="ulist">
<ul>
<li>
<p>Microsoft Azure Portal account.</p>
</li>
<li>
<p>Microsoft Azure Portal subscription that includes the Azure Load Balancer feature.</p>
</li>
<li>
<p>A configured Azure Load Balancer.    <br></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
You can configure the Load Balancer even after creating the VM, but it works faster when configured before.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_set_up_azure_vm">3.2.2. Set up Azure VM</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Log into <a href="https://portal.azure.com/#home">Azure portal</a>.</p>
</li>
<li>
<p>Search the Virtual Machine service.</p>
</li>
<li>
<p>Click <strong>Add &gt; Start with a pre-set configuration</strong>.</p>
</li>
<li>
<p>Select <strong>General purpose D-Series default</strong> as the Workload type and then click <strong>Continue to Create a VM</strong>.</p>
</li>
<li>
<p>On the <strong>Create A Virtual Machine</strong> page, perform the following steps:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>On the <strong>Basics</strong> tab, enter required details for all the fields.</p>
</li>
<li>
<p>On the <strong>Disks</strong> tab, enter details and select a disk size to create a data disk.</p>
</li>
<li>
<p>On the <strong>Networking</strong> tab, configure the network and load balancer.</p>
</li>
<li>
<p>On the <strong>Review and Create</strong> tab, review the entered details and click <strong>Create</strong>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Click <strong>Previous</strong> if you need to modify the details.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <strong>Generate new key pair</strong> dialog box is displayed.</p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Click <strong>Download private key and create resource</strong> to save the key for future reference.   <br>
The message, <strong>Your deployment is complete</strong> confirms successful deployment of a new virtual machine.</p>
<div class="paragraph">
<p>Now, you need to configure the virtual machine.</p>
</div>
</li>
<li>
<p>On the deployment confirmation page, click <strong>Go to Resource</strong>.    <br>
The <strong>Overview</strong> tab displays the complete configuration of the virtual machine.</p>
</li>
<li>
<p>Copy the IP address.<br></p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
You need the IP address to connect the VM.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Click the <strong>Networking</strong> tab and configure the SSH port firewall rule.    <br>
The VM instance is ready to use. You can create more VMs following the same steps.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_connect_to_the_azure_vm_instance">3.2.3. Connect to the Azure VM Instance</h4>
<div class="paragraph">
<p>Use the SSH key and an SSH connection tool (For example, PuTTy) or command line SSH to connect to the VM instance. This section describes how to connect the VM using PuTTy. For detailed information, see <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html#putty-private-key">Convert your Private key using PuTTYgen</a>.</p>
</div>
<div class="paragraph">
<p><strong>Prerequisites</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Your .pem file.</p>
</li>
<li>
<p>Conversion of the private key using PuTTYgen.</p>
</li>
<li>
<p>The IP Address copied while creating the VM.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_before_you_connect">Before you connect</h5>
<div class="paragraph">
<p>You need to convert the private key using PuTTYgen.</p>
</div>
<div class="paragraph">
<p>To convert,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start PuTTYgen (Click <strong>Start&gt;All Programs&gt;PuTTYgen</strong>).</p>
</li>
<li>
<p>Select <strong>RSA</strong> for <strong>Types of key to generate</strong>.</p>
</li>
<li>
<p>Click <strong>Load</strong> and select the <strong>All Files</strong> option for <strong>Files to select</strong>.</p>
</li>
<li>
<p>Select your .pem file for the key pair that you generated and click <strong>Open</strong> to import. <br>
For example, IdentityRMDev1.pem.</p>
</li>
<li>
<p>Click <strong>Save private key</strong>.<br>
A warning appears.</p>
</li>
<li>
<p>Select <strong>Yes</strong> to save the key without a passphrase.</p>
</li>
<li>
<p>Enter a name for the key and click <strong>Save</strong>.<br></p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The name of key must match with the name of the key pair.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You have converted the private key to the .ppk file extension that PuTTYgen supports. Now, use the SSH client of PuTTY to connect your VM instance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_connect_your_virtual_machine">Connect your Virtual Machine</h5>
<div class="paragraph">
<p>To connect your VM,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start PuTTYgen (Click <strong>Start&gt;All Programs&gt;PuTTYgen</strong>).<br>
The PuTTY Configuration wizard appears.</p>
</li>
<li>
<p>On the <strong>Session</strong> screen, enter the IP address of the VM instance and click <strong>Save</strong>.</p>
</li>
<li>
<p>On the <strong>Auth</strong> screen, <strong>Browse</strong> and add the PPK file received after converting the private key.</p>
</li>
<li>
<p>On the <strong>Data</strong> screen, enter the Azure user login name.</p>
</li>
<li>
<p>Click <strong>Open</strong>.<br></p>
</li>
<li>
<p>Access the new host configuration to login.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The VM session starts.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_setting_up_postgresql_database">3.3. Setting up PostgreSQL Database</h3>
<div class="paragraph">
<p>IdentityRM installs a local PostgresSQL database as part of the installation process. You can modify the configuration to use the Azure PostgresSQL remote database. This section describes how to set up the PostgresSQL database and connect IdentityRM to the available database.</p>
</div>
<div class="paragraph">
<p><strong>Prerequisite</strong>: Azure subscription.</p>
</div>
<div class="sect3">
<h4 id="_set_up_the_azure_postgressql_server">3.3.1. Set up the Azure PostgresSQL Server</h4>
<div class="paragraph">
<p>You can access the VM instance using the SSH key generated while creating the VM instance, and an SSH connection tool (For example, PuTTY) or command line SSH.</p>
</div>
<div class="paragraph">
<p>To set up, create an Azure database for PostgresSQL Server and then configure. For detailed information, refer to <a href="https://docs.microsoft.com/en-us/azure/postgresql/quickstart-create-server-database-portal">Microsoft documentation</a>.</p>
</div>
<div class="paragraph">
<p>To configure,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to <a href="https://portal.azure.com/#home">Azure portal</a>.</p>
</li>
<li>
<p>Search for and select the PostgresSQL service configuration.</p>
</li>
<li>
<p>Click <strong>New+</strong> to add a new PostgresSQL server.</p>
</li>
<li>
<p>On the <strong>Select Azure Database for PostgreSQL deployment option</strong> page, select <strong>Create</strong> for <strong>Single Server</strong>.</p>
</li>
<li>
<p>On the <strong>Basics</strong> tab of Single Server, enter the details and click <strong>Review + create</strong>.</p>
</li>
<li>
<p>Review the configuration and click <strong>Create</strong>. <br>
The following confirmation message appears: <strong>Your deployment is complete</strong>.<br></p>
</li>
<li>
<p>Click <strong>Go to Resource</strong>.    <br>
View the server details and start configuring.</p>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>You need to configure to make the server publicly accessible.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Click the <strong>Connection Security</strong> tab.   <br>
This setting helps to configure firewall rules to access the PostgresSQL server.</p>
</li>
<li>
<p>To configure firewall, perform the following steps:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter the IP address of the VM instance.<br></p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
IP address is available in the VM instance configuration overview.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Enter <strong>Client IP</strong>.<br></p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The Client IP is a local client address for using clients installed on the Desktop, for instance.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Click the <strong>Connection Strings</strong> tab to show the configuration parameters to be used in IdentityRM.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The PostgresSQL configuration is complete.</p>
</div>
</div>
<div class="sect3">
<h4 id="_configure_identityrm_to_use_the_azure_postgressql_server">3.3.2. Configure IdentityRM to use the Azure PostgresSQL Server</h4>
<div class="paragraph">
<p>Configure IdentityRM after installation to connect to the Azure PostgresSQL server.</p>
</div>
<div class="paragraph">
<p>To configure,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Connect to the VM server using an SSH shell.</p>
</li>
<li>
<p>Edit the following idaas_manager/.env file and enter related input in the highlighted fields:</p>
<div class="ulist">
<ul>
<li>
<p>SQL_ENGINE=django.db.backends.postgresql</p>
</li>
<li>
<p>SQL_DATABASE=<strong>postgres</strong></p>
</li>
<li>
<p>SQL_USER=<strong>postgres@idrmdevpostgres</strong></p>
</li>
<li>
<p>SQL_PASSWORD=<strong>&lt;your_password&gt;</strong></p>
</li>
<li>
<p>SQL_HOST= <strong>idrmdevpostgres.postgres.database.azure.com</strong></p>
</li>
<li>
<p>SQL_PORT=5432</p>
</li>
</ul>
</div>
</li>
<li>
<p>Restart the server.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_identityrm">4. Installing IdentityRM</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To install IdentityRM, you need to first install Docker.</p>
</div>
<div class="sect2">
<h3 id="_install_docker">4.1. Install Docker</h3>
<div class="paragraph">
<p>To install,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use the Ubuntu 20.0.02 Azure VM image.</p>
</li>
<li>
<p>Log into AzureVM using PuTTY.</p>
</li>
<li>
<p>Install docker and set up as non-root user using the following steps:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Run <code>sudo snap install docker</code> (installs docker and docker-compose).</p>
</li>
<li>
<p>Run <code>sudo groupadd docker</code>.</p>
</li>
<li>
<p>Run <code>sudo usermod -aG docker $USER</code>.</p>
</li>
<li>
<p>Run <code>sudo chmod 777 /var/run/docker.sock</code>.</p>
</li>
<li>
<p>Log out and return into Unix shell.</p>
</li>
<li>
<p>Run the following to validate that docker is running properly: <code>azureuser@IdentityRM:~/idaas_manager$  docker run hello-world</code>  <br>
The following message confirms successful completion:</p>
<div class="literalblock">
<div class="content">
<pre>    Hello from Docker!
This message shows that your installation appears to be working correctly.
To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the "hello-world" image from the Docker Hub.
    (amd64)
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.
To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash
Share images, automate workflows, and more with a free Docker ID:
 https://hub.docker.com/
For more examples and ideas, visit:
 https://docs.docker.com/get-started/</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Run <code>sudo apt install unzip</code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_install_identityrm">4.2. Install IdentityRM</h3>
<div class="paragraph">
<p>To install,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Unzip the release file. <code>unzip IdentityRM*.zip</code>.</p>
</li>
<li>
<p>Run the installation command.</p>
<div class="literalblock">
<div class="content">
<pre>cd idaas_manager
make install</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>Output
azureuser@IdentityRM:~$ cd idaas_manager/
azureuser@IdentityRM:~/idaas_manager$ make install
Installing docker images...
77cae8ab23bf: Loading layer  5.815MB/5.815MB
766d031fa954: Loading layer   2.56kB/2.56kB
db3a903780ba: Loading layer  1.536kB/1.536kB
01418db173bb: Loading layer  70.98MB/70.98MB
760ddfacf422: Loading layer  30.21kB/30.21kB
e4f3e630426a: Loading layer  2.048kB/2.048kB
1b5ae6d491ae: Loading layer  3.072kB/3.072kB
dde7cc167531: Loading layer  8.704kB/8.704kB
Loaded image: identity_rm_db_prod:latest
f1b5933fe4b5: Loading layer  5.796MB/5.796MB
fbe0fc9bcf95: Loading layer  17.86MB/17.86MB
6e3177938916: Loading layer  32.35MB/32.35MB
2c01af858ac4: Loading layer  3.072kB/3.072kB
a54f56ad01ba: Loading layer   12.8kB/12.8kB
112ba21ea5bb: Loading layer  3.072kB/3.072kB
73de2bbf029e: Loading layer  1.319MB/1.319MB
4128c9e3485c: Loading layer  11.66MB/11.66MB
c4313026eb26: Loading layer  1.602MB/1.602MB
99f2b2e2dff5: Loading layer  903.7kB/903.7kB
Loaded image: nginx_prod:latest
b2d5eeeaba3a: Loading layer   5.88MB/5.88MB
d2c4a6adc529: Loading layer  12.29kB/12.29kB
33292fe7ceb9: Loading layer  2.139MB/2.139MB
845cc97e6c8b: Loading layer  25.47MB/25.47MB
c432e6f541e7: Loading layer  2.048kB/2.048kB
f3286249f0c5: Loading layer  3.584kB/3.584kB
Loaded image: redis:alpine
8803ef42039d: Loading layer  119.2MB/119.2MB
c2c789d2d3c5: Loading layer   17.1MB/17.1MB
527ade4639e0: Loading layer  17.85MB/17.85MB
2e5b4ca91984: Loading layer    150MB/150MB
da9418a2e1b1: Loading layer  520.4MB/520.4MB
98d95bdfa037: Loading layer  18.49MB/18.49MB
0d77d4546954: Loading layer  106.6MB/106.6MB
7a8a38bf5538: Loading layer  4.608kB/4.608kB
ccbefb30278f: Loading layer  6.996MB/6.996MB
58b416e5ba92: Loading layer  10.97MB/10.97MB
5806931a6d90: Loading layer  387.9MB/387.9MB
e310f70f1efa: Loading layer  3.072kB/3.072kB
57f75c964d98: Loading layer  745.9MB/745.9MB
a8bb298967a2: Loading layer   2.56kB/2.56kB
bf8b9eb818d8: Loading layer  525.3kB/525.3kB
1a6aeb12327d: Loading layer   2.56kB/2.56kB
cdbfa6641b6a: Loading layer  50.69kB/50.69kB
a9c491a4d7b8: Loading layer  3.072kB/3.072kB
8cafbe6ac6f0: Loading layer  3.584kB/3.584kB
5a2aeb108b3c: Loading layer  487.8MB/487.8MB
650fb0b48dba: Loading layer  2.048kB/2.048kB
a185a502371d: Loading layer   2.56kB/2.56kB
eac5e8977635: Loading layer  1.371MB/1.371MB
e5be8ead428f: Loading layer   5.35MB/5.35MB
27375b1cf211: Loading layer  35.07MB/35.07MB
43d93b418363: Loading layer  31.24MB/31.24MB
cd7ec32ab4f1: Loading layer  66.28MB/66.28MB
Loaded image: identity_rm_web_prod:latest
Images successfully installed
Installation successfull!</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can now run the application.
For more information, refer to <code>README.md</code> from the related Git repository.</p>
</div>
</li>
<li>
<p>Set up application</p>
<div class="paragraph">
<p>To set up,</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Perform the following steps:</p>
</li>
<li>
<p>Run <code>make up</code>.</p>
</li>
<li>
<p>Run <code>make collectstatic</code>.</p>
</li>
<li>
<p>Select <strong>yes</strong> to answer the prompt.</p>
</li>
<li>
<p>Run <code>make import_config</code><br>
<code>import_file=sample_configurations/delegated_admin_tenant_current.json</code>.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>Output
azureuser@IdentityRM:~/idaas_manager$ make import_config import_file=sample_configurations/delegated_admin_tenant_current.json
identity_rm_db_prod is up-to-date
redis_prod is up-to-date
identity_rm_web_prod is up-to-date
nginx_prod is up-to-date
Migrations for 'core':
  core/migrations/0003_auto_20210527_1524.py
    - Alter field theme on dashboardservice
Operations to perform:
  Apply all migrations: admin, admin_interface, administration, api, auth, authtoken, contenttypes, core, dashboard, entitlements, frontend, guardian, helpdesk, logs, organization, report_builder, reports, sessions, silk, teams, thycotic, viewflow, workflow
Running migrations:
  Applying contenttypes.0001_initial... OK
  Applying contenttypes.0002_remove_content_type_name... OK
  Applying core.0001_initial... OK
  Applying admin.0001_initial... OK
  Applying admin.0002_logentry_remove_auto_add... OK
  Applying admin.0003_logentry_add_action_flag_choices... OK
  Applying admin_interface.0001_initial... OK
  Applying admin_interface.0002_add_related_modal... OK
  Applying admin_interface.0003_add_logo_color... OK
  Applying admin_interface.0004_rename_title_color... OK
  Applying admin_interface.0005_add_recent_actions_visible... OK
  Applying admin_interface.0006_bytes_to_str... OK
  Applying admin_interface.0007_add_favicon... OK
  Applying admin_interface.0008_change_related_modal_background_opacity_type... OK
  Applying admin_interface.0009_add_enviroment... OK
  Applying admin_interface.0010_add_localization... OK
  Applying admin_interface.0011_add_environment_options... OK
  Applying admin_interface.0012_update_verbose_names... OK
  Applying admin_interface.0013_add_related_modal_close_button... OK
  Applying admin_interface.0014_name_unique... OK
  Applying admin_interface.0015_add_language_chooser_active... OK
  Applying admin_interface.0016_add_language_chooser_display... OK
  Applying admin_interface.0017_change_list_filter_dropdown... OK
  Applying admin_interface.0018_theme_list_filter_sticky... OK
  Applying viewflow.0001_initial... OK
  Applying viewflow.0002_fsmchange... OK
  Applying viewflow.0003_task_owner_permission_change... OK
  Applying viewflow.0004_extend_fields_length... OK
  Applying viewflow.0005_rename_flowcls... OK
  Applying viewflow.0004_subprocess... OK
  Applying viewflow.0005_merge... OK
  Applying viewflow.0006_merge... OK
  Applying viewflow.0007_owner_permission_obj... OK
  Applying viewflow.0006_i18n... OK
  Applying viewflow.0008_merge... OK
  Applying viewflow.0007_task_assigned... OK
  Applying viewflow.0008_jsonfield_and_artifact... OK
  Applying viewflow.0009_merge... OK
  Applying workflow.0001_initial... OK
  Applying administration.0001_initial... OK
  Applying authtoken.0001_initial... OK
  Applying authtoken.0002_auto_20160226_1747... OK
  Applying authtoken.0003_tokenproxy... OK
  Applying api.0001_initial... OK
  Applying api.0002_auto_20210524_1205... OK
  Applying auth.0001_initial... OK
  Applying auth.0002_alter_permission_name_max_length... OK
  Applying auth.0003_alter_user_email_max_length... OK
  Applying auth.0004_alter_user_username_opts... OK
  Applying auth.0005_alter_user_last_login_null... OK
  Applying auth.0006_require_contenttypes_0002... OK
  Applying auth.0007_alter_validators_add_error_messages... OK
  Applying auth.0008_alter_user_username_max_length... OK
  Applying auth.0009_alter_user_last_name_max_length... OK
  Applying auth.0010_alter_group_name_max_length... OK
  Applying auth.0011_update_proxy_permissions... OK
  Applying auth.0012_alter_user_first_name_max_length... OK
  Applying organization.0001_initial... OK
  Applying helpdesk.0001_initial... OK
  Applying entitlements.0001_initial... OK
  Applying core.0002_auto_20210524_1205... OK
  Applying core.0003_auto_20210527_1524... OK
  Applying dashboard.0001_initial... OK
  Applying frontend.0001_initial... OK
  Applying frontend.0002_i18n... OK
  Applying guardian.0001_initial... OK
  Applying guardian.0002_generic_permissions_index... OK
  Applying logs.0001_initial... OK
  Applying report_builder.0001_initial... OK
  Applying report_builder.0002_auto_20150201_1809... OK
  Applying report_builder.0003_auto_20150720_1549... OK
  Applying report_builder.0004_auto_20170915_2046... OK
  Applying report_builder.0005_add_delta_filtering... OK
  Applying report_builder.0006_auto_20180413_0747... OK
  Applying report_builder.0007_auto_20190214_1405... OK
  Applying reports.0001_initial... OK
  Applying sessions.0001_initial... OK
  Applying silk.0001_initial... OK
  Applying silk.0002_auto_update_uuid4_id_field... OK
  Applying silk.0003_request_prof_file... OK
  Applying silk.0004_request_prof_file_storage... OK
  Applying sil .0005_increase_request_prof_file_length... OK
  Applying silk.0006_fix_request_prof_file_blank... OK
  Applying silk.0007_sqlquery_identifier... OK
  Applying teams.0001_initial... OK
  Applying thycotic.0001_initial... OK
  Applying thycotic.0002_auto_20210524_1205... OK
Superuser created successfully.
Importing config file sample_configurations/delegated_admin_tenant_current.json ...
file imported. Tenant created</code></pre>
</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The setup is complete.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuring_access_to_identityrm">5. Configuring Access to IdentityRM</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To configure access to IdentityRM, you need to set up the local environment.</p>
</div>
<div class="sect2">
<h3 id="_set_up_local_environment">5.1. Set up local environment</h3>
<div class="paragraph">
<p>To set up your local environment, add the IP address of your VM.</p>
</div>
<div class="paragraph">
<p>To set up,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>On your local environment, go to the following folder and open the hosts file:</p>
<div class="ulist">
<ul>
<li>
<p>Windows: C:\Windows\System32\drivers\etc</p>
</li>
<li>
<p>Linux: /etc/hosts</p>
</li>
</ul>
</div>
</li>
<li>
<p>Add the following entries to the hosts file:</p>
<div class="literalblock">
<div class="content">
<pre>52.224.164.159 workflowportal.icsynergy.info #local
52.224.164.159 idrm.icsynergy.info #local</pre>
</div>
</div>
</li>
<li>
<p>Replace the IP address with the address of the VM for your local environment (For example, 127.0.0.1).</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_access_identityrm">5.2. Access IdentityRM</h3>
<div class="paragraph">
<p>You need to configure IdentityRM with the development environment.</p>
</div>
<div class="paragraph">
<p>To set up access,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open <a href="https://idrm.icsynergy.info">IdentityRM Relationship</a>.</p>
</li>
<li>
<p>Log in using an administrator account for the system.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_key_configuration_and_log_file_locations">5.3. Key Configuration and Log file locations</h3>
<div class="paragraph">
<p>Configure the following files to monitor the application:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>logs/debug.log</code>: Shows trace logs for the application and displays any errors.</p>
</li>
<li>
<p><code>.env</code>: Displays information about the environment.</p>
</li>
<li>
<p><code>nginx.conf</code>: Helps to modify all as the base domain for the application.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The files are all relative to the base idaas_manager directory.</p>
</div>
<div class="paragraph">
<p>Other settings are available in the <code>IdentityRM database</code>. You can configure using the <code>IdentityRM Configuration tools</code> available at:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://workflowportal.icsynergy.info/admin" class="bare">https://workflowportal.icsynergy.info/admin</a></p>
</li>
<li>
<p><a href="https://workflowportal.icsynergy.info/dashboard" class="bare">https://workflowportal.icsynergy.info/dashboard</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-07-12 17:52:21 +0530
</div>
</div>
</body>
</html>