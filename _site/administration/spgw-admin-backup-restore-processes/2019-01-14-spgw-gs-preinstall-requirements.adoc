= Pre-installation Requirements
:page-layout: post
:page-category: Getting Started

This section outlines the required information that must be completed prior to installing the SPGateway.

== IDP

This section outlines the required information that must be obtained from your IDP instance for the SPGateway installation process.

[cols=",",]
|===
|IDP Domain Name | The IDP domain name is used to connect to your IDP instance to automatically provision applications that are created within the SPGateway Admin UI.
|Client ID |The Client ID value is used to securely authenticate to your Okta Org.
      
|Client Secret |The Client Secret value is used to securely authenticate to your Okta Org.
|===

The IDP domain name is used to connect to your IDP instance to automatically provision applications that are created within the SPGateway Admin UI.

The Client ID and Client Secret values are used to securely authenticate to your Okta Org.

== Networking

The SPGateway must be resolvable via DNS and is required to have a hostname assigned in DNS.

[cols=",",]
|===
|Static IP Address |
|DNS Server |
|DNS Hostname (FQDN) |
|===

The SPGateway requires a static IP address and does not leverage DHCP.

The SPGateway must be resolvable via a DNS solution that end users leverage. If end users will be originating from the internet, the SPGateway solution must be publicly resolvable. It is recommended that split DNS be leveraged so that internal users connect to an internal IP address and external users connect to a public IP address.

NOTE: All applications integrated with the SPGateway will be served on the domain that constitutes the FQDN.

== Firewall Rules

The SPGateway requires networking access to the applications to which it is integrated. Additionally, end users require networking access to the SPGateway on TCP 443 (HTTPS).

[cols=",",]
|===
|SPGateway to IDP |Outbound HTTPS / Port 443, your IDaaS Domain
|SPGateway to Private ICSynergy Repos |Outbound HTTPS / Port 443
|SPGateway to Applications |Outbound HTTPS / Port 443
|Browser to SPGateway |Inbound TCP / Port 443
|Management, Configuration Replication |TCP 22
|Support Connection |Outbound TCP 443
|===


== Domain Certificate

SPGateway requires a valid web server certificate. Wild card certificates are recommended, but alt-name SSL certificates are also supported. Only one SSL certificate can be used, and an intermediate SSL certificate may be required depending on your certificate authority.

[cols=",",]
|===
|SSL Certificate for the Domain FQDN |
|Wildcard or Alt-Name SSL Certificate | 
|===

== SPGateway Appliance Deployment

The SPGateway is designed to be a soft appliance, and ICSynergy will provide you with information that will be used to deploy it. DHCP is required for the initial installation.

== Appliance Virtual Hardware Specifications

This section outlines the suggested virtual hardware specifications allocated for the SPGateway. Each section below details different specifications depending on the use case and requirements for the SPGateway.

To help with sizing, the following details should be gathered for each protected application, and discussed with an ICSynergy engineer to help determine the proper appliance size.

|===
|Application Name |
|Estimated Number of Users Per Day |
|Estimated Total Number of Users |
|Application Usage |i.e., Light / Moderate / Heavy
|High Availability Required? |Yes / No
|Disaster Recovery Required? |Yes / No
|Estimated Average Authentication Requests Per Day |
|Estimated Peak Authentication Requests Per Day |
|Estimated Average Session Duration |
|Is There a Time of Year When Usage Peaks? |If yes, when and approximately how many authentications per hour?
|Project User Number Increase |
|===
 

== On-Premise (Self-Hosted Virtualization)

*POC Installation*

[cols=",",]
|===
|Cores |2
|NIC |Single 1 Gbps NIC
|Memory |4 GB
|Storage |20 GB
|===

*Minimal Installation*

[cols=",",]
|===
|Cores |2
|NIC |Single 1 Gbps NIC
|Memory |8 GB
|Storage |20 GB
|===

*Medium Installation*

[cols=",",]
|===
|Cores |4
|NIC |Single 1 Gbps NIC
|Memory |8 GB
|Storage |40 GB
|===

*Large Installation*

[cols=",",]
|===
|Cores |8
|NIC |Single 1 Gbps NIC
|Memory |16 GB
|Storage |40 GB
|===

== Amazon Web Services (AWS) Instance Sizing

*POC Installation*

[cols=",",]
|===
|Instance Type |t2.medium
|===

*Minimal Installation*

[cols=",",]
|===
|Instance Type |t2.medium
|===

*Medium Installation*

[cols=",",]
|===
|Instance Type |m4.large
|===

*Large Installation*

[cols=",",]
|===
|Instance Type |m4.xlarge
|===

== SPGateway Deployment in Amazon Web Services (AWS)

If you are installing the SPGateway in Amazon Web Services (AWS), please share your AWS account number with ICSynergy. ICSynergy will share the AWS AMI image with your organization.

== VMware ESXi

Please provide your currently supported version of ESXi to ICSynergy. ICSynergy will provide you with a VMware image for your version of ESXi.

== Load Balancer

If the SPGateway is being installed in a high-availability configuration, your organization must provide a load balancer. The load balancer can load balance via SNAT or DNAT and should be configured to load balance through a hash on the source port and IP address.
