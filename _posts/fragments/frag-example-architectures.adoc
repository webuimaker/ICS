:imagesdir: http://support.icsynergy.com/wp-content/uploads/spgw-imgs/

The SPGateway solution is implemented within a customerâ€™s infrastructure, regardless of whether the infrastructure is in the cloud, on-premise, or a hybrid solution.

== Sample Architecture

image::http://support.icsynergy.com/wp-content/uploads/spgw-imgs/spgw-architecture-overview.jpg[Example Architectures]

== High Availability

High availability is achieved through the use of a load balancer. We recommend that the SPGateway replication information for the load balancer use DNAT and session persistence via a hash of source IP
address and source port. Additionally, the load balancer should perform health checks via ICMP or HTTPS with HTTP keepalives enabled for a duration that exceeds the health check interval.

In order for the SPGateway instances to properly replicate their configuration, all nodes within the cluster must be able to communicate with each other.

Please contact ICSynergy if you require any additional details or information on load-balancing and high-availability techniques.

== Disaster Recovery

Disaster recovery (DR) can be achieved by leveraging GSLB or modifying public and private IP address assignments in the event of a DR scenario. Please note that applications must be available as part of the DR
solution and that the DR SPGateway must have access to the DR applications.

== External Access

All external (internet-based) end users must have access to both the primary production and disaster recovery solutions. It is recommended that DNAT be leveraged to increase the ability of the SPGateway to provide accurate audit logs on the correct origins of the user.

== Admin Console Considerations

The admin console hostname should not be resolvable via public DNS; it should only be resolvable through internal DNS (such as split DNS).
